## code_ncnn_cmake

---

### 运行方式改为 cmake，图片与模型自动输入

```bash
# 克隆或进入工程目录
cd code_ncnn_cmake

# 构建
rm -rf build
mkdir build && cd build
cmake ..
make -j$(nproc)

# 运行（图片、param/bin 自动读取）
./code_ncnn_cmake \
    ../images \
    ../models/yolov5s.param \
    ../models/yolov5s.bin
```

---

## code_ncnn_RTSP_1

---

### 功能清单
1. 参考 c12_rtsp，改为 RTSP 视频流输入  
2. `cap.set(cv::CAP_PROP_BUFFERSIZE, 3);` 减少缓冲  
3. 图像显示挪到 `main` 中，推理函数只返回结果  
4. 新增：裁剪→640×640、帧率计算、跳帧逻辑  

```bash
# 测试 RTSP 流
ffplay -rtsp_transport tcp "rtsp://192.168.144.108:554/stream=1"

# 编译运行
rm -rf build
mkdir build && cd build
cmake ..
make -j$(nproc)
cd ..
./bin/yolo_ncnn
```

---

## code_ncnn_RTSP_2

---

### 新增/优化
1. 支持 **RTSP 实时流 + 本地视频文件** 双输入  
2. 所有 `imshow/打印` 移至 `main`，推理函数纯净  
3. 裁剪缩放、帧率显示、跳帧逻辑封装为独立函数  

```bash
# 编译
rm -rf build
mkdir build && cd build
cmake ..
make -j$(nproc)

# 运行示例
./bin/yolo_ncnn \
    rtsp://192.168.144.108:554/stream=1 \
    ../models/yolov5s.param \
    ../models/yolov5s.bin

# 或本地视频
./bin/yolo_ncnn \
    ../test.mp4 \
    ../models/yolov5s.param \
    ../models/yolov5s.bin
```

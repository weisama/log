# 更换清华园下载pytouch

## 使用清华园镜像下载

[https://blog.csdn.net/F030109/article/details/142684402]


> ！！！Ubuntu 24.04开始变更为DEB822格式

清华园官网选择对应版本的镜像  
[https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/](https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/)

获取权限，修改只读文件
```bash
sudo su
```

备份原有配置文件  
首次备份为
```bash
cp /etc/apt/sources.list.d/ubuntu.sources /etc/apt/sources.list.d/ubuntu.sources_base.bak
```
后续备份为
```bash
cp /etc/apt/sources.list.d/ubuntu.sources /etc/apt/sources.list.d/ubuntu.sources.bak
```

修改配置文件
```bash
vi /etc/apt/sources.list.d/ubuntu.sources
```
> 复制最新清华园镜像后保存退出

更新源
```bash
sudo apt update
sudo apt upgrade
```

---

## 使用清华园镜像下载pytouch

pytouch官网的指令
```bash
conda install pytorch==2.5.1 torchvision==0.20.1 torchaudio==2.5.1 pytorch-cuda=12.4 -c pytorch -c nvidia
```
> 后面的`-c pytorch`删掉，`-c pytorch`的意思是，安装下载的channel强制为pytorch官网的channel。所以需要删除才能走清华镜像的channel。

报错`[Errno 11] Resource temporarily unavailable`  
dp回答使用以下安装
```bash
pip install torch torchvision --index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

校验安装结果
```bash
python
```
```python
import torch
print(torch.cuda.is_available())  # 返回True，安装了GPU加速版本
```

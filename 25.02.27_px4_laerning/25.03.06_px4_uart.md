串口实现飞控与上位机通信，gazebo仿真
烧录编译的PX4V1.14.0固件才能连接上
https://blog.csdn.net/qq_44998513/article/details/133036005
https://shiqi.blog.csdn.net/article/details/137450308

修改QGC中参数
MAV_1_CONFIG：TELLEM2
MAV_1_MODE：Onboard
SER_TEL2_BAUD：961200 8N1

笔记本通过串口连接TELLEM2
TELLEM2： 5V TX RX CTS RTS GND
树莓派4b： 5V 5V TX RX

串口通信库
sudo apt install ros-noetic-serial
查看最新的串口消息
sudo dmesg | tail
ls /dev/ttyACM*
[6405.187455] cdc_acm 3-2:1.1: ttyACM1: USB ACM device
sudo chmod 777 /dev/ttyACM1
修改mavros串口设备和波特率
roscd mavros
sudo gedit ./launch/px4.launch
<arg name="fcu_url" default="/dev/ttyACM1:921600" />


启动仿真
source /home/chen/PX4-Autopilot/Tools/simulation/gazebo-classic/setup_gazebo.bash $(pwd) $(pwd)/build/px4_sitl_default
gazebo /home/chen/PX4-Autopilot/Tools/simulation/gazebo-classic/sitl_gazebo-classic/worlds/hitl_iris.world

终端二：
roslaunch mavros px4.launch
roslaunch mavros px4.launch fcu_url:=/dev/ttyACM1:921600
终端三：
GPS数据
rostopic echo /mavros/global_position/global
本地坐标系，单位米
rostopic echo /mavros/local_position/pose
磁罗盘航向角
rostopic echo /mavros/global_position/compass_hdg

串口调试工具
sudo apt-get install cutecom
sudo cutecom

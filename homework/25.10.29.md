# 电机阶跃响应两点法参数估计报告

## 一、实验数据

| 时间 (s) | PWM 输入 | 速度 (单位/s) |
|-----------|-----------|----------------|
| 530.95 | 0.3 → 0.8（阶跃） | 13 |
| 531.00 | 0.8 | 20 |
| 531.05 | 0.8 | 30 |
| 531.20 | 0.8（稳态） | 37 |

---

## 二、模型假设

假设电机的动态响应可由 **一阶惯性 + 纯时延** 模型描述：

\[
G(s) = \frac{K}{T s + 1} e^{-r s}
\]

其中：
- \(K\)：系统稳态增益（速度 / PWM）
- \(T\)：时间常数（系统惯性）
- \(r\)：纯延迟时间

---

## 三、计算步骤

### 1. 稳态增益 \(K\)

PWM 阶跃：  
\[
u_0 = 0.3,\quad u_1 = 0.8,\quad \Delta u = 0.5
\]

速度变化：  
\[
y(0) = 13,\quad y(\infty) = 37,\quad \Delta y = 24
\]

稳态增益：
\[
K = \frac{\Delta y}{\Delta u} = \frac{24}{0.5} = 48
\]

---

### 2. 选择用于两点法的采样点

| 采样点 | 时间 \(t\) (s) | 相对时间 \(t'\) = t - 530.95 (s) | 速度 \(y\) |
|----------|----------------|------------------------------------|-------------|
| 点1 | 531.00 | 0.05 | 20 |
| 点2 | 531.05 | 0.10 | 30 |

---

### 3. 计算归一化变量 \(z_i\)

\[
z_i = 1 - \frac{y_i - y(0)}{\Delta y}
\]

计算：
\[
z_1 = 1 - \frac{20 - 13}{24} = 1 - 0.2917 = 0.7083
\]
\[
z_2 = 1 - \frac{30 - 13}{24} = 1 - 0.7083 = 0.2917
\]

---

### 4. 两点法公式

根据一阶惯性模型的解析形式：

\[
y(t) = y(0) + \Delta y \left(1 - e^{-\frac{t' - r}{T}}\right)
\]

定义：
\[
z_i = e^{-\frac{t_i' - r}{T}}
\]
则有：
\[
\ln z_i = -\frac{t_i' - r}{T}
\]

由两点求解 \(r\) 与 \(T\)：

\[
r = \frac{t_1' \ln z_2 - t_2' \ln z_1}{\ln z_2 - \ln z_1}
\]
\[
T = -\frac{t_1' - r}{\ln z_1}
\]

---

### 5. 代入数值计算

\[
\ln z_1 = \ln(0.7083) = -0.3455
\]
\[
\ln z_2 = \ln(0.2917) = -1.2321
\]

计算延迟时间：

\[
r = \frac{0.05(-1.2321) - 0.10(-0.3455)}{-1.2321 + 0.3455}
   = \frac{-0.0616 + 0.0346}{-0.8866}
   = 0.0306 \text{ s}
\]

计算时间常数：

\[
T = -\frac{0.05 - 0.0306}{-0.3455} = 0.0564 \text{ s}
\]

---

## 四、最终结果

| 参数 | 符号 | 数值 | 单位 | 含义 |
|------|------|-------|------|------|
| 稳态增益 | \(K\) | 48.0 | (速度/PWM) | PWM → 速度放大比 |
| 时间常数 | \(T\) | 0.056 s | 秒 | 动态响应速度 |
| 延迟时间 | \(r\) | 0.031 s | 秒 | 控制信号到输出响应的滞后 |

---

## 五、模型验证

模型响应方程：

\[
y(t) = 13 + 24\left(1 - e^{-\frac{t' - 0.0306}{0.0564}}\right), \quad t' > 0.0306
\]

| 时间 (s，相对阶跃) | 模型预测速度 | 实测速度 |
|----------------------|---------------|------------|
| 0.05 | 20.0 | 20 |
| 0.10 | 30.0 | 30 |
| 0.25 | 36.5 | 37 |

模型预测与实测吻合良好，说明该电机在该阶跃下近似为一阶惯性环节。

---

## 六、总结

通过 PWM 从 **0.3 → 0.8** 的阶跃试验，利用两点法估计电机模型参数如下：

\[
\boxed{
G(s) = \frac{48}{0.056 s + 1} e^{-0.031 s}
}
\]

该模型可用于：
- 速度控制器设计（如 PI 参数整定）
- 动态响应预测与仿真
- 不同 PWM 范围下线性区间判断

> 若后续采集更多上升段数据，可使用对数回归法进行多点拟合，以提升精度并减少噪声影响。

# 学习github管理项目

## 一键推送到分支main

```bash
git add .
git commit -m "update"
git push -u origin main
```

## 一键拉取，跟踪main

```bash
git branch -u origin/main main
git pull
```

---

## 新设备设置
```bash
sudo apt install git
git config --global user.name "weisama"
git config --global user.email "33229176757@qq.com"
```

使用现有或生成密匙
```bash
ls ~/.ssh/id_rsa ~/.ssh/id_rsa.pub
ssh-keygen -t rsa -b 4096 -C "3329176757@qq.com"
cat ~/.ssh/id_rsa.pub
```

**登录 GitHub → Settings → SSH and GPG keys → New SSH key**

测试连接
```bash
ssh -T git@github.com
```

设置默认分支为main
```bash
git config --global init.defaultBranch main
```

---

## 创建项目并提交

初始化Git仓库
```bash
git init
```

或者添加所有文件
```bash
git add .
```

提交更改
```bash
git commit -m "update"
```

添加远程仓库地址
```bash
git remote add origin git@github.com:weisama/XXX.git
```

查看远程仓库
```bash
git remote -v
```

推送到远程仓库
```bash
git push -u origin main
```

---


## 分支管理

查看当前分支
```bash
git branch
```

创建新分支
```bash
git branch XXX
```

切换到新分支
```bash
git checkout XXX
```

---

## 解决子模块提交后为链接的问题


#### 完全清除历史，慎用

```bash
git rm -rf --cached .
```

#### 删除.git

```bash
sudo rm -rf */.git
```

#### 全局配置,如果你希望在所有项目中都避免符号链接问题，可以设置全局配置

```bash
git config --global core.symlinks false
```
